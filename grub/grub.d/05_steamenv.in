#!/bin/sh

#  SPDX-License-Identifier: LGPL-2.1+
#
#  Copyright © 2022 Collabora Ltd
#  Copyright © 2022 Valve Corporation.

#  grub-mkconfig helper script.
#  steamos-customizations is free software; you can redistribute it and/or
#  modify it under the terms of the GNU Lesser General Public License as
#  published by the Free Software Foundation; either version 2.1 of the License,
#  or (at your option) any later version.

set -e

cat <<EOF
insmod steamenv
# kernel cmdline flags for quiet vs verbose boot:
steamenv_quiet="loglevel=3 splash quiet plymouth.ignore-serial-consoles fbcon=vc:4-6"
steamenv_noisy="loglevel=4 splash=verbose fbcon=nodefer"
# default if steamenv_init is not called:
steamenv_verbosity="${steamenv_quiet}"
steamenv_init
EOF
